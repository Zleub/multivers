/* @flow */

const Time = require('time-diff');
export const time = new Time();

time.start('init');

export const end = (name) => {
  if (process.argv.find(e => e == '--log' || e == '-l'))
    writeFileSync(
      "multivers.log",
      `${new Date(Date.now()).toISOString()} ${name}: ${time.end(name, 'ms')}\n`,
      { flag: "a" }
    )
  else
    console.log(`${new Date(Date.now()).toISOString()} ${name}: ${time.end(name, 'ms')}`)
}

export function flattenDeep(arr1) {
   return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);
}
